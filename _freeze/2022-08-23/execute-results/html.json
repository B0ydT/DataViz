{
  "hash": "fe0600f11c32af669606c0141b6f81c3",
  "result": {
    "markdown": "---\ntitle: \"2022 Week 34: Moore's Law\"\nexecute: \n  freeze: auto\n---\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(hrbrthemes)\nlibrary(showtext)\nlibrary(rsvg)\nlibrary(gganimate)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfont_add_google(\"Roboto Condensed\")\nshowtext_auto()\n```\n:::\n\n\n## Load Data\n\nchip_dataset.csv downloaded from [Vercel](https://chip-dataset.vercel.app/). \n\nRedistribution of the dataset is not permitted.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchips <- read.csv(\"Data/chip_dataset.csv\")\n```\n:::\n\n\n## Clean Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchips <- chips |>\n  mutate(Date = as_date(Release.Date)) |> \n  filter(Foundry != \"Unknown\" &\n               !is.na(Date) &\n               !is.na(Transistors..million.) &\n           Type == \"GPU\") \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: 75 failed to parse.\n```\n:::\n:::\n\n\n## Get Regression Lines\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchipMod <- chips |> \n  mutate(Date = as.numeric(Date)) |> \n  glm(Transistors..million. ~ Date + Foundry,\n      family = \"poisson\",\n      data = _)\n\npredInput <- chips |> \n    mutate(Foundry = factor(Foundry),\n          Date = as.numeric(Date)) |> \n    group_by(Foundry) |> \n    summarise(min = min(Date),\n              max = max(Date)) |> \n    pivot_longer(cols = c(\"min\", \"max\"),\n                 values_to = \"Date\")\n\nchipPreds <- predict(chipMod, \n                     newdata = predInput[,c(3,1)], \n                     type = \"response\") |> \n  data.frame() |> \n  cbind(predInput) |> \n  rename(Transistors..million. = 1) |> \n  mutate(Date = as_date(Date))\n```\n:::\n\n\n## Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlinePlot <- chips |> \n    ggplot(aes(x = Date, \n               y = Transistors..million., \n               color = Foundry)) +\n    geom_point(aes(group = seq_along(Date)),\n               alpha = 0.5) +\n    geom_line(data = chipPreds, size = 0.8) +\n    scale_y_log10() +\n    theme_ipsum_rc(axis_title_size = \"12\") +\n    scale_color_viridis_d() +\n    theme(legend.position = \"bottom\") +\n    xlab(\"Release Date\") +\n    ylab(\"Transistors (Millions)\") +\n    ggtitle(label = \"GPU Transistor Count by Release Date\",\n            subtitle = \"Data from https://chip-dataset.vercel.app/\") +\n    transition_reveal(Date)\n\nanimate(linePlot, end_pause = 10, \n        height = 7, \n        width = 7, \n        units = \"in\", \n        res = 75) |> \n  anim_save(\"Out/2022-08-23.gif\", animation = _)\n```\n:::\n\n\n![Final Plot](Out/2022-08-23.gif)\n\n## Session Info\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.2.1 (2022-06-23 ucrt)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 10 x64 (build 19043)\n\nMatrix products: default\n\nlocale:\n[1] LC_COLLATE=English_Australia.utf8  LC_CTYPE=English_Australia.utf8   \n[3] LC_MONETARY=English_Australia.utf8 LC_NUMERIC=C                      \n[5] LC_TIME=English_Australia.utf8    \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] gganimate_1.0.7  rsvg_2.3.1       showtext_0.9-5   showtextdb_3.0  \n [5] sysfonts_0.8.8   hrbrthemes_0.8.0 lubridate_1.8.0  forcats_0.5.2   \n [9] stringr_1.4.1    dplyr_1.0.9      purrr_0.3.4      readr_2.1.2     \n[13] tidyr_1.2.0      tibble_3.1.7     tidyverse_1.3.2  ggplot2_3.3.6   \n\nloaded via a namespace (and not attached):\n [1] httr_1.4.4          viridisLite_0.4.1   jsonlite_1.8.0     \n [4] modelr_0.1.9        assertthat_0.2.1    googlesheets4_1.0.1\n [7] cellranger_1.1.0    yaml_2.3.5          progress_1.2.2     \n[10] gdtools_0.2.4       Rttf2pt1_1.3.10     pillar_1.8.1       \n[13] backports_1.4.1     glue_1.6.2          extrafontdb_1.0    \n[16] digest_0.6.29       rvest_1.0.3         colorspace_2.0-3   \n[19] plyr_1.8.7          htmltools_0.5.2     pkgconfig_2.0.3    \n[22] broom_1.0.1         magick_2.7.3        haven_2.5.1        \n[25] scales_1.2.1        tweenr_2.0.1        tzdb_0.3.0         \n[28] googledrive_2.0.0   generics_0.1.3      farver_2.1.1       \n[31] ellipsis_0.3.2      withr_2.5.0         cli_3.3.0          \n[34] magrittr_2.0.3      crayon_1.5.1        readxl_1.4.1       \n[37] evaluate_0.16       fs_1.5.2            fansi_1.0.3        \n[40] xml2_1.3.3          tools_4.2.1         prettyunits_1.1.1  \n[43] hms_1.1.2           gargle_1.2.0        lifecycle_1.0.1    \n[46] munsell_0.5.0       reprex_2.0.2        compiler_4.2.1     \n[49] systemfonts_1.0.4   rlang_1.0.4         grid_4.2.1         \n[52] rstudioapi_0.14     htmlwidgets_1.5.4   rmarkdown_2.16     \n[55] gtable_0.3.1        curl_4.3.2          DBI_1.1.3          \n[58] R6_2.5.1            knitr_1.40          fastmap_1.1.0      \n[61] extrafont_0.18      utf8_1.2.2          stringi_1.7.6      \n[64] Rcpp_1.0.8.3        vctrs_0.4.1         dbplyr_2.2.1       \n[67] tidyselect_1.1.2    xfun_0.31          \n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}